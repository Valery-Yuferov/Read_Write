
from pprint import pprint

file_name = "recipe.txt"


def file_reader(file_name):
    with open(file_name, encoding='utf-8') as file_obj:
        cookbook = {}
        for line in file_obj:
            dish_name = line.strip()
            ingredients = []
            for item in range(int(file_obj.readline())):
                ingredient = file_obj.readline().split(' | ')
                ingredients.append({'ingredient_name': ingredient[0], 'quantity': int(ingredient[1]), 'measure': ingredient[2].strip()})
            cookbook[dish_name] = ingredients
            file_obj.readline()
    return cookbook


dishes = file_reader(file_name)
pprint(dishes)

